<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Engineering Thesis Project</title>
    <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>
<body>
    <div class="center">
        <h2>Hello!</h2>
    </div>
    <div class="container">
        <a class="waves-effect waves-light btn start-button">start processing samples</a>
        <h4>Processed samples:</h4>
        <h4 id="samples">0</h4>
        <h4>Current model name:</h4>
        <h4 id="model-name"></h4>
        <h4>Current model version:</h4>
        <h4 id="model-version"></h4>
    </div>
    <script type="text/javascript">
        var ws = new WebSocket("ws://127.0.0.1:8765");
        var start_button = document.querySelector('.start-button');
        start_button.onclick = function (event) {
            console.log('start');
            ws.send('start');

            var samples = document.getElementById("samples");
            var model_name = document.getElementById("model-name");
            var model_version = document.getElementById("model-version");
            ws.onmessage = function (event) {
                var message = JSON.parse(event.data);
                console.log(message);
                samples.innerHTML = message["samples"];
                model_name.innerHTML = message["model_name"];
                model_version.innerHTML = message["model_version"];
            };
        }



    </script>

    <script type="text/javascript" src="js/materialize.min.js"></script>
</body>
</html>